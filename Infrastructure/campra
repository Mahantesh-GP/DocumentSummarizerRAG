var answers = searchResults.SemanticSearch.Answers
    .Select(chunk =>
    {
        var result = resultsList.FirstOrDefault(r => r.ChunkId == chunk.Key);
        var doc = result?.Document;

        var parentId = doc?.ContainsKey("parent_id") == true ? doc["parent_id"]?.ToString() : null;
        var fileName = doc?.ContainsKey("title") == true ? doc["title"]?.ToString() : string.Empty;
        var folderName = doc?.ContainsKey("folderName") == true ? doc["folderName"]?.ToString() : string.Empty;
        var fileUrl = _azureStorageService.GetFileUrl($"{folderName}/{fileName}");

        return new Answers
        {
            Text = chunk.Text,
            Score = chunk.Score,
            Highlights = chunk.Highlights,
            ParentId = parentId,
            FileName = fileName,
            FileUrl = fileUrl
        };
    })
    .ToList();

public class Answers
{
    public string Text { get; set; }
    public double Score { get; set; }
    public string Highlights { get; set; }
    public string ParentId { get; set; }
    public string FileName { get; set; }     // Add this
    public string FileUrl { get; set; }      // Add this
}
