
using System;
using System.Collections.Generic;
using System.IO;
using System.Text.Json;

namespace AgenticContentExtractor
{
    class Program
    {
        static void Main(string[] args)
        {
            // Sample LLM/agentic response
            string content = @"ref_id: 0, title: all-people-documents.json, content: JOHN J SMITH JR 5324
ref_id: 1, title: all-people-documents.json, content: DAVE THOMAS
ref_id: 2, title: all-people-documents.json, content: KATHERINE 'KATIE' SMITH";

            var lines = content.Split('\n', StringSplitOptions.RemoveEmptyEntries);
            var contentList = new List<string>();

            foreach (var line in lines)
            {
                var parts = line.Split(',');

                foreach (var part in parts)
                {
                    var keyValue = part.Split(':', 2);
                    if (keyValue.Length == 2)
                    {
                        var key = keyValue[0].Trim();
                        var value = keyValue[1].Trim();

                        if (key.Equals("content", StringComparison.OrdinalIgnoreCase))
                        {
                            contentList.Add(value);
                        }
                    }
                }
            }

            // Serialize to JSON array
            string json = JsonSerializer.Serialize(contentList, new JsonSerializerOptions { WriteIndented = true });

            // Print or save to file
            Console.WriteLine("Extracted Content Values:\n");
            Console.WriteLine(json);

            File.WriteAllText("OnlyContent.json", json);
            Console.WriteLine("\nSaved to OnlyContent.json");
        }
    }
}
