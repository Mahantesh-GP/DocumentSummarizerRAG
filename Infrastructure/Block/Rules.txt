using System;
using System.Collections.Generic;

public class TextChunker
{
    public static List<string> ChunkText(string text, int chunkSize = 500)
    {
        List<string> chunks = new List<string>();
        string[] sentences = text.Split(new[] { ". ", "\n\n" }, StringSplitOptions.RemoveEmptyEntries);
        
        string currentChunk = "";
        foreach (var sentence in sentences)
        {
            if ((currentChunk.Length + sentence.Length) > chunkSize)
            {
                chunks.Add(currentChunk.Trim());
                currentChunk = "";
            }
            currentChunk += sentence + ". ";
        }
        if (!string.IsNullOrEmpty(currentChunk))
            chunks.Add(currentChunk.Trim());

        return chunks;
    }
}
