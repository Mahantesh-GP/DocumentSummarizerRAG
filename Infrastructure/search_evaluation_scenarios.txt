# CONFIGURATION
$searchServiceName = "<your-search-service-name>"
$apiKey = "<your-admin-api-key>"
$apiVersion = "2023-07-01"
$endpoint = "https://$searchServiceName.search.windows.net"

# 1. Create Synonym Map
$body = @{
    name = "name-synonyms"
    format = "solr"
    synonyms = @"
william, bill
robert, bob
john, jack, johnny
margaret, maggie, meg
steven, steve
james, jim, jimmy
richard, rick, ricky
joseph, joe
katherine, kate, kathy
"@
} | ConvertTo-Json -Depth 3 -Compress

Invoke-RestMethod -Method PUT `
  -Uri "$endpoint/synonymmaps/name-synonyms?api-version=$apiVersion" `
  -Headers @{ "api-key" = $apiKey; "Content-Type" = "application/json" } `
  -Body $body

Write-Host "âœ… Synonym map created"
