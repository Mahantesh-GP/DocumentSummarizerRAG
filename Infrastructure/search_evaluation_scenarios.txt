
<!-- .csproj -->
<ItemGroup>
  <PackageReference Include="Swashbuckle.AspNetCore" Version="6.*" />
</ItemGroup>

var builder = WebApplication.CreateBuilder(args);

builder.Services.AddControllers();
builder.Services.AddEndpointsApiExplorer();   // OpenAPI metadata
builder.Services.AddSwaggerGen();            // Swashbuckle

var app = builder.Build();

// Enable in all environments (Azure included)
app.UseSwagger();
app.UseSwaggerUI(o =>
{
    o.SwaggerEndpoint("/swagger/v1/swagger.json", "Name Search API v1");
    o.RoutePrefix = "swagger"; // UI at /swagger
});

app.MapGet("/", () => Results.Redirect("/swagger")); // avoid 404 at root
app.MapGet("/healthz", () => Results.Ok("OK"));
app.MapControllers();

app.Run();




